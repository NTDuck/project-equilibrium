{% from "constant.html" import ICONS %}


{% macro svgBase(destUrl="#", isAbsolute=1, svgName="", target="_self", useText="", _divStyle="", _aStyle="", _svgStyle="") %}
<div class="select-none transition-colors fill-current text-sub-color hover:text-text-color {{ _divStyle|safe }}">
  <a {% if isAbsolute == 1 %}href="{{ destUrl }}"{% else %}href="{{ url_for(destUrl) }}"{% endif %} target="{{ target|e }}" class="{{ _aStyle }}">
    <svg class="fill-current {{ _svgStyle}}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 {{ ICONS[svgName].dimension }}">
      {{ ICONS[svgName].path|safe }}
    </svg>
    {{ useText }}
  </a>
</div>
{% endmacro %}


{% macro svgNavbar(destUrl="#", svgName="") %}
  {{ svgBase(destUrl=destUrl, isAbsolute=0, svgName=svgName, _divStyle="px-2", _svgStyle="w-[1.1rem] h-[1.1rem]") }}
{% endmacro %}


{% macro svgFooter(destUrl="#", isAbsolute=1, svgName="", target="_self", useText="") %}
  {{ svgBase(destUrl=destUrl, isAbsolute=isAbsolute, svgName=svgName, target=target, useText=useText, _divStyle="gap-[.25em] px-[.25em] leading-4 text-[.75rem] w-fit h-fit justify-start items-baseline", _svgStyle="inline-block w-3 h-3 mr-[-.15rem]") }}
{% endmacro %}


{% macro footerKey(key) %}
<span class="transition-colors rounded-[.1rem] px-[.3rem] py-[.1rem] mx-[.25rem] leading-[.7rem] text-[.7rem] bg-sub-color text-bg-color hover:bg-text-color">{{ key }}</span>
{% endmacro %}


<!-- added undeclared classNames for DOM traversal -->
{% macro todolistItem(content="") %}
<div class="flex flex-row items-center py-2 px-4 w-full h-fit bg-sub-alt-color rounded-lg group todolist-item">
  <div class="flex-grow transition-all hover:text-text-color todolist-item-content">{{ content|e }}</div>
  <div class="flex flex-col flex-none opacity-0 text-sub-color group-hover:opacity-100 transition-all duration-300">
    <form method="post" class="select-none transition-colors fill-current text-sub-color hover:text-text-color inline-block">
      <input type="hidden" name="todolistItem_del" value="{{ content|e }}">
      <button type="submit">
        <svg class="fill-current inline-block w-4 h-4 ml-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 {{ ICONS['trash-can'].dimension }}">
          {{ ICONS['trash-can'].path|safe }}
        </svg>
      </button>
    </form>
    {{ svgBase(destUrl="#", svgName="clipboard_", _divStyle="inline-block", _aStyle="todolist-item-copyButton", _svgStyle="inline-block w-4 h-4 ml-2") }}
  </div>
  <span class="relative"></span>
</div>
{% endmacro %}


{% macro todolistComponent(method="post", outerDivId="", inputId="", buttonId="", inputName="", buttonType="submit", svgName="") %}
<form action="#" method="{{ method }}" class="flex-none h-fit w-full">
  <div id="{{ outerDivId }}" class="flex flex-row items-center py-2 px-4 bg-sub-alt-color transition-colors duration-300 rounded-lg">
    <input type="text" name="{{ inputName }}" id="{{ inputId }}" class="flex-grow w-20 rounded-lg caret-transparent text-text-color bg-transparent transition-colors duration-300">
    <button type="{{ buttonType }}" id="{{ buttonId }}" class="flex-none transition-colors duration-300 text-sub-color hover:text-text-color">
      <svg class="w-4 h-4 ml-2 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 {{ ICONS[svgName].dimension }}">
        {{ ICONS[svgName].path|safe }}
      </svg>
    </button>
  </div>
</form>
{% endmacro %}